{% extends 'base.html' %}
{% load static %}

{% block title %}Welcome to TCI{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section id="hero">
        <div class="hero-content">
            <h1>A Promise of Hope: We're With You</h1>
            <p id="hero-text">At Thembi Community Initiative, we stand beside the most vulnerable—children, teens, and families affected by HIV and poverty. Through healthcare, education, livelihood support, and empowerment programs, we bring hope, resilience, and a path to a better future.</p>
            <a href="{% url 'donate' %}" class="button">Donate Now</a>
        </div>
        <img src="{% static 'images/hero-community.jpg' %}" alt="Thembi Community" class="hero-image">
    </section>

    <!-- Initiatives Section -->
    <section id="initiatives">
        <h2>Our Initiatives</h2>
        <div class="initiative-row">
            <div class="initiative-card">
                <img src="{% static 'images/initiative-emergency-appeal.jpg' %}" alt="Emergency Appeal">
                <div class="initiative-text">
                    <h3>Emergency Appeal</h3>
                    <p>TCI helps communities in Thembi prepare for disasters with immediate relief and recovery support.</p>
                    <a href="{% url 'donate' %}" class="button">Donate Now</a>
                </div>
            </div>
            <div class="initiative-card">
                <img src="{% static 'images/initiative-volunteering.jpg' %}" alt="Volunteering">
                <div class="initiative-text">
                    <h3>Volunteering</h3>
                    <p>Transform lives and build stronger communities with TCI.</p>
                    <a href="{% url 'volunteer' %}" class="button">Find Out More</a>
                </div>
            </div>
        </div>
        <div class="initiative-row">
            <div class="initiative-card">
                <img src="{% static 'images/initiative-family-support.jpg' %}" alt="Family Support">
                <div class="initiative-text">
                    <h3>Family Support</h3>
                    <p>Resources, counseling, and support for families to thrive.</p>
                    <a href="{% url 'hiv_services' %}" class="button">Learn More</a>
                </div>
            </div>
            <div class="initiative-card">
                <img src="{% static 'images/initiative-community-dev.jpg' %}" alt="Community Development">
                <div class="initiative-text">
                    <h3>Community Development</h3>
                    <p>Sustainable projects for resilient communities in Thembi.</p>
                    <a href="{% url 'community_empowerment' %}" class="button">Learn More</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services">
        <h2>Our Services</h2>
        <div class="service-row">
            <div class="service-card">
                <h3>Tracing Service</h3>
                <p>Restoring Family Links</p>
                <p class="service-description">Reconnecting families separated by conflict or disaster.</p>
                <a href="{% url 'what_we_do' %}" class="service-link">Learn More</a>
            </div>
            <div class="service-card">
                <h3>Governance Reforms</h3>
                <p>Changes to TCI Governance</p>
                <p class="service-description">Ensuring transparency and accountability.</p>
                <a href="{% url 'governance' %}" class="service-link">Learn More</a>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section id="blog">
        <h2>Latest Updates</h2>
        <div class="blog-row">
            <div class="blog-card">
                <img src="{% static 'images/blog-post1.jpg' %}" alt="Blog Post 1">
                <div class="blog-text">
                    <h3>Supporting Families in Crisis</h3>
                    <p>Learn how TCI aids families affected by floods.</p>
                    <a href="#" class="button">Read More</a>
                </div>
            </div>
            <div class="blog-card">
                <img src="{% static 'images/blog-post2.jpg' %}" alt="Blog Post 2">
                <div class="blog-text">
                    <h3>Teen Club Success</h3>
                    <p>Discover how our Teen Club empowers youth.</p>
                    <a href="{% url 'join_teen_club' %}" class="button">Read More</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Programs Section -->
    <section id="programs">
        <h2>Our Programs</h2>
        <div class="program-row">
            <div class="program-card">
                <h3>Health Services</h3>
                <p>Critical healthcare including HIV testing and child clinics.</p>
                <a href="{% url 'health' %}" class="button">Explore</a>
            </div>
            <div class="program-card">
                <h3>Education Support</h3>
                <p>Empowering youth with tutoring and skills training.</p>
                <a href="{% url 'education' %}" class="button">Explore</a>
            </div>
            <div class="program-card">
                <h3>Livelihood Development</h3>
                <p>Vocational training for sustainable growth.</p>
                <a href="{% url 'livelihood' %}" class="button">Explore</a>
            </div>
        </div>
    </section>

    <!-- Get Involved Section -->
    <section id="get-involved">
        <h2>Get Involved</h2>
        <div class="involvement-row">
            <div class="involvement-card">
                <h3>Volunteer</h3>
                <p>Join our team and make a direct impact.</p>
                <a href="{% url 'volunteer' %}" class="button">Join Now</a>
            </div>
            <div class="involvement-card">
                <h3>Fundraise</h3>
                <p>Create a campaign to support our programs.</p>
                <a href="{% url 'fundraise' %}" class="button">Start Fundraising</a>
            </div>
            <div class="involvement-card">
                <h3>Corporate Partnership</h3>
                <p>Enhance your CSR goals with us.</p>
                <a href="{% url 'corporate' %}" class="button">Partner With Us</a>
            </div>
        </div>
    </section>

    <!-- Stories Section -->
    <section id="stories">
        <h2>Stories of Impact</h2>
        <div class="story-row">
            <div class="story-card">
                <img src="{% static 'images/story-child.jpg' %}" alt="Child Story">
                <h3>A Child’s New Beginning</h3>
                <p>Thandi thrives thanks to TCI’s child clinic.</p>
                <a href="#" class="story-link">Read More</a>
            </div>
            <div class="story-card">
                <img src="{% static 'images/story-teen.jpg' %}" alt="Teen Story">
                <h3>Empowering Teens</h3>
                <p>Sipho leads projects through our Teen Club.</p>
                <a href="{% url 'join_teen_club' %}" class="story-link">Read More</a>
            </div>
        </div>
    </section>

    <!-- Donate Section -->
    <section id="donate">
        <h2>Make a Difference Today</h2>
        <p>Your support fuels our mission to provide healthcare, education, and hope.</p>
        <div class="donate-options">
            <a href="{% url 'donate' %}" class="button">Donate Money</a>
            <a href="{% url 'in_kind' %}" class="button">Donate In-Kind</a>
            <a href="{% url 'donate_child' %}" class="button">Support a Child</a>
        </div>
    </section>

    <!-- Impact Section -->
    <section id="impact">
        <h2>Our Impact</h2>
        <div class="impact-stats">
            <div class="impact-item"><h3>{{ health_records_count }}+</h3><p>Health Records</p></div>
            <div class="impact-item"><h3>{{ teen_club_attendance }}+</h3><p>Teen Club</p></div>
            <div class="impact-item"><h3>{{ pmtct_attendance }}+</h3><p>PMTCT</p></div>
            <div class="impact-item"><h3>{{ education_records_count }}+</h3><p>Education</p></div>
            <div class="impact-item"><h3>{{ youth_records_count }}+</h3><p>Youth</p></div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <h2>Contact Us</h2>
        <p>We’d love to hear from you! Reach out to learn more or get involved.</p>
        <div class="contact-info">
            <p><strong>Email:</strong> thembicommunityinitiatives@gmail.com</p>
            <p><strong>Phone:</strong> +1-555-123-4567</p>
            <p><strong>Address:</strong> Thembi Community Initiative, Box 79, Chitipa, Malawi</p>
        </div>
        <a href="#" class="button">Send a Message</a>
    </section>

    <!-- Sticky CTA -->
    <a href="{% url 'donate' %}" class="sticky-cta">Support Us</a>
{% endblock %}

{% block extra_head %}
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'YOUR_GA_ID');
    </script>
{% endblock %}

{% block extra_js %}
    <!-- Personalization Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (document.cookie.includes("visited=true")) {
                document.getElementById("hero-text").textContent = "Welcome back! Your support keeps us going.";
            } else {
                document.cookie = "visited=true; max-age=31536000";
            }
        });
    </script>
{% endblock %}